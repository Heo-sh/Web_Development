<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<!--  
Ajax(Asynchronous JavaScript and XML)
- 자바스크립트를 이용한 백그라운드 통신 기술(비동기 통신)
- '부분'새로고침
-->

<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<!--  
		js/httpRequest.js를 위한 script라서
		새로운 javascript코드를 쓰려면
		다른 script태그를 써야 한다.
		아무 것도 작성하면 안된다.
		-->
		<script src="js/httpRequest.js"></script>
		<script type="text/javascript">
			function send() {
				var dan = document.getElementById("dan").value;
				
				var url = "gugudan_ajax.jsp"; //목적지
				
				var param = "dan=" + dan; //파라미터
				
				//sendRequest()메서드를 호출하지 않는다면
				//location.href = "gugudan_ajax.jsp?dan=" + dan;
				
				sendRequest(url, param, resultFn, "GET"); //sendRequest()메서드 호출
			} //send()
			
			function resultFn() { //callback함수는 다른 함수 밖에다가 만들어야 한다.
				//alert("call back");
				console.log(xhr.readyState + " / " + xhr.status);
			}
			
		</script>
	</head>
	<body>
		단: <input id="dan"> <!-- form태그 안에 있는 input태그의 value를 보낼 때는 name속성을 쓰고 그러지 않을 때는 id속성을 쓰는 게 좋다. -->
		<input type="button" value="결과보기" onclick="send()">
		<br>
		<div id="disp"></div>
	</body>
</html>